<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <button id="rock">Rock</button> 
        <button id="paper">Paper</button> 
        <button id="scissors">Scissors</button>
    </head>
    <body>
        <script>
            const div = document.createElement('div');
            const rock = document.querySelector("#rock");
            const paper = document.querySelector("#paper");
            const scissors = document.querySelector("#scissors");
            let playerSelection;
            rock.addEventListener('click', () => {
                playerSelection = "rock";
                game(playerSelection);
            });
            paper.addEventListener('click', () => {
                playerSelection = "paper";
                game(playerSelection);
            });
            scissors.addEventListener('click', () => {
                playerSelection = "scissors";
                game(playerSelection);
            });
            function computerPlay() {
                let computerSelection = "rock";
                num = Math.floor(Math.random() * 3)
                if (num === 1) {
                    computerSelection = "paper";
                } else if (num === 2) {
                    computerSelection = "scissors";
                }
                return computerSelection;
            }
            function playRound(playerSelection, computerSelection) {
	            playerSelection = playerSelection.toLowerCase();
                if (playerSelection === computerSelection) {
                    return "t";
                } else if (playerSelection === "rock" && computerSelection === "scissors") {
                    return "w";
                } else if (playerSelection === "paper" && computerSelection === "rock") {
                    return "w";
                } else if (playerSelection === "scissors" && computerSelection === "paper") {
                    return "w";
                } else if (playerSelection === "scissors" && computerSelection === "rock") {
                    return "l";
                } else if (playerSelection === "rock" && computerSelection === "paper") {
                    return "l";    
                } else if (playerSelection === "paper" && computerSelection === "scissors") {
                    return "l";
                }
            }
            function game(playerSelection) {
                let playerScore = 0;
                let computerScore = 0;
                let gameStatus;                       
                let computerSelection = computerPlay()
                gameStatus = playRound(playerSelection, computerSelection);
                if (gameStatus === "w") {
                    playerScore++;
                    console.log("You won this round: " + playerSelection + " beats " + computerSelection + "!")
                } else if (gameStatus === "l") {
                    computerScore++;
                    console.log("You lost this round: " + computerSelection + " beats " + playerSelection + "!")
                } else if (gameStatus === "t") {
                    console.log("You tied this round!")
                    }
                //    console.log("Score after Round "+ (turn + 1) + ": " + "Player " + playerScore + ", Computer " + computerScore + "!")
                console.log("Final score: Player " + playerScore + ", Computer " + computerScore + "!")
                if (playerScore > computerScore) {
                    console.log("You won!")
                } else if (computerScore > playerScore) {
                    console.log("You lost!")
                } else {
                    console.log("It's a tie!")
                }
            }
            </script>
    </body>
</html>